<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Joel & Maria Eduarda ğŸ’˜</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

  <h1>Joel & Maria Eduarda ğŸ’˜</h1>
  <p>Estamos juntos hÃ¡ <strong id="dias-juntos">...</strong> dias!</p>

  <section class="player-romantico">
    <h2>Nossa Trilha Sonora ğŸµ</h2>
    <div class="youtube-players">
      <a href="https://www.youtube.com/watch?v=9Sk7RQtSl5g" target="_blank" rel="noopener noreferrer" class="youtube-thumb">
        <img src="https://img.youtube.com/vi/9Sk7RQtSl5g/hqdefault.jpg" alt="Pupila - AnavitÃ³ria ft. Vitor Kley" />
        <span>Pupila - AnavitÃ³ria ft. Vitor Kley</span>
      </a>

      <a href="https://www.youtube.com/watch?v=-x2cE--r3L8" target="_blank" rel="noopener noreferrer" class="youtube-thumb" style="margin-top: 20px;">
        <img src="https://img.youtube.com/vi/-x2cE--r3L8/hqdefault.jpg" alt="Maria - MatuÃª" />
        <span>Maria - MatuÃª</span>
      </a>
    </div>
  </section>

  <section class="galeria">
    <h2>Nossos Momentos</h2>
    <div class="filtros">
      <button data-filtro="normal" class="ativo">Normal</button>
      <button data-filtro="sepia">SÃ©pia</button>
      <button data-filtro="rosado">Rosado</button>
      <button data-filtro="brilho">Brilho</button>
    </div>
    <div class="slideshow normal">
      {% for i in range(1, 12) %}
        <img src="{{ url_for('static', filename='images/foto' ~ i ~ '.jpeg') }}" alt="Foto {{ i }}" />
      {% endfor %}
    </div>
  </section>

  <section class="linha-do-tempo">
    <h2>Nosso Amor em Datas</h2>
    <ul>
      <li><strong>12/01/2021</strong> â€“ Nosso primeiro dia juntos ğŸŒŸ</li>
      <li><strong>09/02/2021</strong> â€“ Seu primeiro aniversÃ¡rio comigo ğŸ‚</li>
      <li><strong>12/06/2021</strong> â€“ Primeiro Dia dos Namorados âœ¨</li>
    </ul>
  </section>

  <section class="mapa-section">
    <h2>Onde Nos Conhecemos â¤ï¸</h2>
    <div id="mapa" style="height: 300px;"></div>
  </section>

  <section class="carta-animada">
    <h2>Minha DeclaraÃ§Ã£o ğŸ’Œ</h2>
    <div class="carta" tabindex="0">
      <div class="frente">Clique para abrir</div>
      <div class="verso">
        Meu amor, cada momento ao seu lado Ã© uma constelaÃ§Ã£o no meu universo. VocÃª transforma minhas noites em sonhos reais. Obrigado por existir, te amo mais do que palavras podem dizer. âœ¨
      </div>
    </div>
  </section>

  <section class="poesias">
    <h2>Palavras do CoraÃ§Ã£o ğŸ’­</h2>
    <blockquote>"Se eu tivesse que escolher entre te amar e respirar, usaria meu Ãºltimo suspiro para dizer: eu te amo."</blockquote>
    <blockquote>"Em um mundo cheio de incertezas, vocÃª Ã© minha certeza mais bonita."</blockquote>
    <blockquote>"NÃ£o preciso de mil motivos para sorrir, vocÃª jÃ¡ Ã© o suficiente."</blockquote>
  </section>

  <footer>
    <p>Feito com ğŸ’— por Joel</p>
    <p id="frase-rodape">VocÃª Ã© meu hoje, meu amanhÃ£ e meu sempre.</p>
  </footer>

  <script>
    const frases = [
      "VocÃª Ã© meu hoje, meu amanhÃ£ e meu sempre.",
      "Te escolher foi a melhor decisÃ£o da minha vida.",
      "Nosso amor Ã© meu lugar favorito no mundo.",
      "Com vocÃª, todos os dias valem a pena. ğŸ’‘"
    ];
    let fraseIndex = 0;
    setInterval(() => {
      fraseIndex = (fraseIndex + 1) % frases.length;
      document.getElementById("frase-rodape").textContent = frases[fraseIndex];
    }, 4000);

    // Filtro da galeria
    const botoesFiltro = document.querySelectorAll('.filtros button');
    const slideshow = document.querySelector('.slideshow');

    botoesFiltro.forEach(btn => {
      btn.addEventListener('click', () => {
        botoesFiltro.forEach(b => b.classList.remove('ativo'));
        btn.classList.add('ativo');
        const filtro = btn.getAttribute('data-filtro');
        slideshow.className = 'slideshow ' + filtro;
      });
    });

    // Mapa
    const mapa = L.map('mapa').setView([-5.054207, -42.793926], 16);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }).addTo(mapa);
    L.marker([-5.054207, -42.793926]).addTo(mapa)
      .bindPopup('CondomÃ­nio Margens do Poty - Onde tudo comeÃ§ou â¤ï¸')
      .openPopup();
    function atualizarDiasJuntos() {
      const dataInicio = new Date(2021, 0, 12); // mÃªs 0 = janeiro
      const hoje = new Date();

      const diffMs = hoje - dataInicio;
      const diffDias = Math.floor(diffMs / (1000 * 60 * 60 * 24));

      const el = document.getElementById('dias-juntos');
      if (el) {
        el.textContent = diffDias;
      }
    }

    atualizarDiasJuntos();
  </script>
</body>
</html>
